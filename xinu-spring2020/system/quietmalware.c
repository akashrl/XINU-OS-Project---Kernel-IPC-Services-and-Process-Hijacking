/* quietmalware.c -quietmalware */

#include <xinu.h>

/*------------------------------------------------------------------------
 *  quietmalware  -  
 *------------------------------------------------------------------------
 */
void quietmalware(void)
{
	struct  procent *prptr;
	prptr = &proctab[currpid];

	/* Debug statements below */
//	kprintf("\nOutput for Section 4.3:\n");
//	kprintf("\nDebug: currpid from qmalware: %d\n", currpid);
//	kprintf("\nDebug: Print var value from mem addr before change: %d\n", *(prptr->prstkbase - 0x14));

	*(prptr->prstkbase - 0x14) = 9; // Pointing address and changing value

//	kprintf("\nDebug: Print var value from mem addr after change: %d\n", *(prptr->prstkbase - 0x14));

//	kprintf("\nIt's supposed to be quiet takeover, but added for debugging. Successful takeover of victim: %d\n", currpid);
}
